<div class="content">
  <div class="create-event-button">
    <button type="button" class="btn btn-primary float-right" (click)="createFormVisible=true">
      New Event
    </button>
  </div>
</div>
<!-- create form -->
<div class="card" *ngIf="createFormVisible">
  <div class="card-block">
    <form (ngSubmit)="onEventSubmit()" class="create-event-form">
      <div *ngIf="formError" class="alert alert-danger" role="alert" [innerHtml]="formError">
      </div>
      <div class="user-info">
        <div class="form-group username-form">
          <label>Username</label>
          <label>{{ auth.getUserDetails()?.name }}</label>
          <!--<input [(ngModel)]="newEvent.organizer" name="username" type="text" class="form-control" id="username" placeholder="Username">-->
        </div>
        <!--<div class="form-group email-form">-->
        <!--<label for="mail">Contact Email</label>-->
        <!--<input [(ngModel)]="newEvent.organizer.email" name="email" type="email" class="form-control" id="email" placeholder="Email Address">-->
        <!--</div>-->
      </div>
      <div class="event-time">
        <div class="form-group date-form">
          <label for="date">Event Date (required)</label>
          <input [(ngModel)]="newEvent.eventDate" name="date" type="text" class="form-control" id="date">
        </div>
      </div>

      <div class="event-time">
        <div class="form-group address-form">
          <label for="date">Event Address (required)</label>
          <input [(ngModel)]="newEvent.address" name="address" type="text" class="form-control" id="eventAddress">
        </div>
      </div>

      <div class="form-group intro">
        <label for="eventAddress">Brief Intro</label>
        <textarea [(ngModel)]="newEvent.intro" name="intro" class="form-control" id="eventIntro"
                  rows="3"></textarea>
      </div>

      <button type="submit" class="btn btn-primary" id="submit-btn">Submit</button>
      <button type="cancel" class="btn btn-primary" id="cancel-btn" (click)="createFormVisible=false">Cancel</button>
    </form>
  </div>
</div>
<div class="card" *ngFor="let event of events">
  <div class="card-block">
    <h4>
      <a routerLink="/events/{{event._id}}">{{event.organizer}}'s Event</a>
    </h4>
    <p class="address">Address: {{event.address}}</p>
    <p class="event-time">Event time: {{event.eventDate}}</p>
    <p class="num-participants">Currently {{event.participants.length}} participant(s)</p>
    <p class="event-intro" *ngIf="event.intro">Event intro: {{event.intro}}</p>
  </div>
</div>


